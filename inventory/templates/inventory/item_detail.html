{% extends 'base.html' %}

{% block title %}{{ item.item_id }} Details{% endblock %}

{% block content %}
    <div class="card">
        <div class="card-header d-flex justify-content-between align-items-center">
            <h4 class="mb-0">Item Details: {{ item.item_id }}</h4>
            <div>
                <a href="{% url 'edit_item' item.pk %}" class="btn btn-secondary btn-sm">Edit</a>
                <a href="{% url 'delete_item' item.pk %}" class="btn btn-danger btn-sm">Delete</a>
            </div>
        </div>
        <div class="card-body">
            <p><strong>Category:</strong> {{ item.get_category_display }}</p>
            <p><strong>Description:</strong> {{ item.description }}</p>
            <p><strong>Vendor:</strong> {{ item.vendor }}</p>
            <p><strong>Rating:</strong> {{ item.rating }}</p>
            <p><strong>Location:</strong> {{ item.location }}</p>

            <hr>
            <h5>Specific Details</h5>

            {% if item.category == "Pump" %}
                <p><strong>Speed:</strong> {{ item.pump.speed }}</p>
                <p><strong>Inlet:</strong> {{ item.pump.inlet }}</p>
                <p><strong>Outlet:</strong> {{ item.pump.outlet }}</p>
                <p><strong>Material:</strong> {{ item.pump.moc }}</p>
                <p><strong>Power:</strong> {{ item.pump.power }}</p>
            {% elif item.category == "Valve" %}
                <p><strong>Material:</strong> {{ item.valve.moc }}</p>
                <p><strong>Size:</strong> {{ item.valve.size }}</p>
                <p><strong>Valve Type:</strong> {{ item.valve.valve_type }}</p>
            {% elif item.category == "Filter" %}
                <p><strong>Inlet:</strong> {{ item.filter.inlet }}</p>
                <p><strong>Outlet:</strong> {{ item.filter.outlet }}</p>
                <p><strong>Material:</strong> {{ item.filter.moc }}</p>
                <p><strong>Filter Type:</strong> {{ item.filter.filter_type }}</p>
            {% else %}
                 <p>This item has no category-specific details.</p>
            {% endif %}
        </div>
        <div class="card-footer">
             <a href="{% url 'item_list' %}">&laquo; Back to full list</a>
        </div>
    </div>
{% endblock %}